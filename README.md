# FRACTAL

![TypeScript](https://img.shields.io/badge/typescript-%23007ACC.svg?style=for-the-badge&logo=typescript&logoColor=white)
![React](https://img.shields.io/badge/react-%2320232a.svg?style=for-the-badge&logo=react&logoColor=%2361DAFB)
![Vite](https://img.shields.io/badge/vite-%23646CFF.svg?style=for-the-badge&logo=vite&logoColor=white)
![TailwindCSS](https://img.shields.io/badge/tailwindcss-%2338B2AC.svg?style=for-the-badge&logo=tailwind-css&logoColor=white)
![Express.js](https://img.shields.io/badge/express.js-%23404d59.svg?style=for-the-badge&logo=express&logoColor=%2361DAFB)
![MongoDB](https://img.shields.io/badge/MongoDB-%234ea94b.svg?style=for-the-badge&logo=mongodb&logoColor=white)
![Google Gemini](https://img.shields.io/badge/Google%20Gemini-8E75B2?style=for-the-badge&logo=googlegemini&logoColor=white)

**FRACTAL** is an AI-powered knowledge exploration platform that turns any topic into an interactive mind map you can expand infinitely. Enter a subject, and the app generates a branching tree of subtopics with fun facts, then challenges your understanding with blizzard-themed mastery quizzes. The entire experience is wrapped in an immersive winter campfire scene with roaming bears, dynamic weather, and a warmth mechanic that gamifies learning.

Built for **TidalHack Spring 2026**.

---

## System Architecture

The application follows a client-server architecture with two AI providers (Featherless and Gemini) handling knowledge generation, and MongoDB caching responses to minimize redundant API calls.

```mermaid
graph TD
    Client[React Frontend] -->|REST/HTTP| API[Express API Server]

    API -->|Store/Retrieve| DB[(MongoDB)]
    API -->|Generate Subtopics| Featherless[Featherless API]
    API -->|Fun Facts & Quizzes| Gemini[Google Gemini API]

    subgraph "Frontend Layer"
        Client -->|Render Graph| ReactFlow[React Flow Canvas]
        Client -->|State| Zustand[Zustand Store]
        Client -->|Animate| Motion[Framer Motion]
    end

    subgraph "AI Inference"
        Featherless -->|JSON Response| API
        Gemini -->|JSON Response| API
    end
```

---

## Features

- **Infinite Knowledge Trees**: Enter any topic and explore a branching mind map of subtopics generated by AI. Click any node to expand it further, as deep as you want.
- **Fun Fact Popups**: Hover over any node to see an educational fun fact about that topic.
- **Blizzard Mode Quizzes**: Mark a topic as "learned" to trigger a 5-question mastery quiz with a warmth survival mechanic -- answer correctly to stay warm, answer wrong and the cold creeps in.
- **Immersive Winter Scene**: A parallax campfire village background with animated roaming bears, falling snow particles, day/night toggle, and ambient wind synthesis.
- **Concepts History**: Revisit previously explored topics with their full tree structures preserved.
- **Response Caching**: All AI responses are cached in MongoDB with a 24-hour TTL to keep things fast and reduce API costs.

---

## Challenges

- Designing a tree layout algorithm that recursively positions subtrees without node overlaps as the graph scales to dozens of nodes
- Getting consistent, structured JSON output from the LLMs for subtopic generation, fun facts, and quiz questions
- Balancing the campfire SVG animations (flame flicker, roaming bears, snow particles) to feel alive without causing performance issues on the infinite canvas
- Integrating two different AI providers (Featherless via OpenAI SDK, Gemini via Google SDK) behind a unified service layer with graceful fallbacks
- Working with Tailwind v4's new CSS-first configuration, which breaks if you use the old v3 directive syntax

---

## Environment Setup

### Backend (server/.env)
```
FEATHERLESS_API_KEY=your_featherless_api_key
FEATHERLESS_MODEL=deepseek-ai/DeepSeek-V3.2
MONGODB_URI=mongodb://localhost:27017/fractal
PORT=3000
CLIENT_URL=http://localhost:5174
USE_GEMINI=true
GEMINI_API_KEY=your_gemini_api_key
```

---

## Getting Started

```bash
# Install dependencies
cd client && npm install && cd ..
cd server && npm install && cd ..

# Set up environment variables
cp server/.env.example server/.env
# Fill in FEATHERLESS_API_KEY, MONGODB_URI, and optionally GEMINI_API_KEY

# Run both servers
./scripts/start.sh
```

The frontend runs on `http://localhost:5174` and the API server on `http://localhost:3000`.

To clear the database:
```bash
./scripts/clear-db.sh
```
